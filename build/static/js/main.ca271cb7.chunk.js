(window.webpackJsonptasksmern=window.webpackJsonptasksmern||[]).push([[0],{14:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(8),l=a.n(i),o=a(2),c=a(3),r=a(5),d=a(4),m=a(1),u=a(6),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).state={visible:!0,completed:a.props.data.completed,taskId:a.props.data._id,animationClass:""},a.toggleCompletion=a.toggleCompletion.bind(Object(m.a)(a)),a.removeTask=a.removeTask.bind(Object(m.a)(a)),a.deleteTaskOnDatabase=a.deleteTaskOnDatabase.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggleCompletion",value:function(){this.state.completed?(this.setState({completed:!1}),this.updateCompletionStatusOnDatabase(this.props.data._id,!1)):(this.setState({completed:!0}),this.updateCompletionStatusOnDatabase(this.props.data._id,!0))}},{key:"updateCompletionStatusOnDatabase",value:function(e,t){return fetch("/update",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:e,completionStatus:t})}).then((function(e){return console.log(e)}))}},{key:"deleteTaskOnDatabase",value:function(){return fetch("/delete",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:this.state.taskId})}).then((function(e){console.log(e)}))}},{key:"removeTask",value:function(){var e=this;this.setState({animationClass:"animated fadeOutRight"}),setTimeout((function(){return e.deleteTaskOnDatabase()}),500)}},{key:"render",value:function(){return n.a.createElement("div",{className:this.state.animationClass},n.a.createElement("section",{className:"card mb-2 p-2 "},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-1 text-left",onClick:this.toggleCompletion},this.state.completed?n.a.createElement("i",{className:"far fa-check-circle fa-lg"}):n.a.createElement("i",{className:"far fa-circle fa-lg"})),n.a.createElement("div",{className:"col-10"},this.state.completed?n.a.createElement("strike",null,this.props.data.taskName):n.a.createElement("span",null,this.props.data.taskName)),n.a.createElement("div",{className:"col-1 text-right",onClick:this.removeTask},n.a.createElement("i",{className:"fas fa-times"})))))}}]),t}(s.Component),h=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).state={databaseRecords:[],refreshCounter:0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.performSearch()}},{key:"componentDidUpdate",value:function(){this.performSearch()}},{key:"performSearch",value:function(){var e=this;fetch("/usertasks").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({databaseRecords:t})}))}},{key:"render",value:function(){return this.state.databaseRecords.map((function(e,t){return n.a.createElement(p,{key:e._id,data:e})}))}}]),t}(s.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).updateInputValue_taskName=function(e){a.setState({newTaskName:e.target.value})},a.state={visible:a.props.visibility,newTaskName:""},a.addTaskToDatabase=a.addTaskToDatabase.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.visibility;e!==this.state.visible&&this.setState({visible:e})}},{key:"addTaskToDatabase",value:function(e){var t=this;return e.preventDefault(),fetch("/addtask",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskName:this.state.newTaskName})}).then((function(e){console.log(e),t.setState({newTaskName:""}),t.props.toggleAddTaskModal()}))}},{key:"render",value:function(){return this.state.visible?n.a.createElement("div",{className:"modal-background-react"},n.a.createElement("div",{className:"modal-foreground-react animated fadeInDown"},n.a.createElement("form",{onSubmit:this.addTaskToDatabase,className:"row"},n.a.createElement("label",null,"Task Name"),n.a.createElement("input",{autoFocus:!0,type:"text",className:"form-control mb-3",placeholder:"Enter a new task",value:this.state.newTaskName,onChange:this.updateInputValue_taskName}),n.a.createElement("div",{className:"text-right full-width"},n.a.createElement("span",{className:"btn btn-secondary mr-2",onClick:this.props.toggleAddTaskModal},"Cancel"),n.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},"Submit"))))):null}}]),t}(s.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).state={visible_AddTaskModal:!1},a.toggleAddTaskModal=a.toggleAddTaskModal.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggleAddTaskModal",value:function(){this.state.visible_AddTaskModal?this.setState({visible_AddTaskModal:!1}):this.setState({visible_AddTaskModal:!0})}},{key:"render",value:function(){return n.a.createElement("main",{className:"full-height bg-light"},n.a.createElement("nav",{className:"navbar navbar-dark bg-primary"},n.a.createElement("span",{className:"navbar-brand mb-0 h1"},"TasksMERN I"),n.a.createElement("div",{onClick:this.toggleAddTaskModal},n.a.createElement("i",{className:"far fa-plus-square text-light fa-2x"}))),n.a.createElement(b,{visibility:this.state.visible_AddTaskModal,toggleAddTaskModal:this.toggleAddTaskModal}),n.a.createElement("div",{className:"p-3 animated fadeInUpBig"},n.a.createElement(h,null)))}}]),t}(s.Component);var f=function(){return n.a.createElement("div",{className:"full-height"},n.a.createElement(k,null))};l.a.render(n.a.createElement(f,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.ca271cb7.chunk.js.map